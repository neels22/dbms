 declare
   rollno1 number;
   --name varchar2(20);
  book_name1 varchar2(20);
   Amt int;
  issue_date date;
   no_of_days number(20);
system_date date;
   begin
    rollno1:=:rollno1;
    book_name1:=:book_name1;
select sysdate into system_date from dual; 
   select issue_date into issue_date from borrower where rollno1=rollno and book_name1=book_name;
   dbms_output.put_line('Date of issue :'||issue_date);
 --dbms_output.newline;
   no_of_days:=sysdate-issue_date;
   dbms_output.put_line('no_of days: '||no_of_days);
   if no_of_days>15 and no_of_days<30 then
   Amt:=no_of_days*5;
   dbms_output.put_line('total amount of fine : '||Amt);
   elsif no_of_days>30 then
   Amt:=no_of_days*50;
   dbms_output.put_line('total amount of fine: '||Amt);
   else
   dbms_output.put_line('no fine');
   end if;
   if no_of_days>15 then
   insert into fine values(rollno1,sysdate,Amt);
   update borrower set status='R'where rollno=rollno1;
  end if;
  exception
  when no_data_found then
  dbms_output.put_line(rollno1||'not found');
   end;

